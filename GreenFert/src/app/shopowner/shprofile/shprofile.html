<div class="shprofile-page">

  <!-- HERO SECTION -->
  <div class="hero-section">
    <div class="hero-background">
      <div class="hero-orb hero-orb-1"></div>
      <div class="hero-orb hero-orb-2"></div>
      <div class="hero-orb hero-orb-3"></div>
    </div>
    <div class="hero-content">
      <h1 class="hero-title">My Profile</h1>
      <p class="hero-subtitle">Manage your shop information and settings</p>
    </div>
  </div>

  <!-- CONTENT WRAPPER -->
  <div class="content-wrapper">

    <!-- LOADING STATE -->
    <div *ngIf="loading" class="loading-card">
      <div class="loading-spinner">
        <div class="spinner-ring"></div>
        <div class="spinner-ring"></div>
        <div class="spinner-ring"></div>
      </div>
      <p>Loading profile...</p>
    </div>

    <!-- PROFILE NOT FOUND -->
    <div *ngIf="!loading && !profile" class="error-card">
      <div class="error-icon">‚ö†Ô∏è</div>
      <h3>Profile Not Found</h3>
      <p>We couldn't load your profile information. Please try again later.</p>
    </div>

    <!-- PROFILE CONTENT -->
    <div *ngIf="!loading && profile" class="profile-container">

      <!-- PROFILE HEADER CARD -->
      <div class="profile-header-card">
        <div class="card-glow"></div>
        
        <div class="profile-banner">
          <div class="banner-pattern"></div>
        </div>

        <div class="profile-main">
          <div class="avatar-section">
            <div class="avatar-wrapper">
              <div class="avatar-circle" [class.has-image]="profile.shopimg" (click)="openImageModal()" [class.clickable]="profile.shopimg">
                <img *ngIf="profile.shopimg" [src]="'http://localhost:3000/images/' + profile.shopimg" alt="{{ profile.shopname }}" class="profile-image">
                <svg *ngIf="!profile.shopimg" width="48" height="48" viewBox="0 0 24 24" fill="none">
                  <path d="M3 21V19C3 17.9391 3.42143 16.9217 4.17157 16.1716C4.92172 15.4214 5.93913 15 7 15H12M15 11C17.2091 11 19 9.20914 19 7C19 4.79086 17.2091 3 15 3C12.7909 3 11 4.79086 11 7C11 9.20914 12.7909 11 15 11ZM15 11H17L19 13V21H15M15 21H11L9 19V11" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                  <path d="M15 21C15 21 15 18 15 16C15 14 16 13 17 13C18 13 19 14 19 16C19 18 19 21 19 21" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
                </svg>
              </div>
              <div class="avatar-badge">
                <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor">
                  <path d="M9 12L11 14L15 10M21 12C21 16.9706 16.9706 21 12 21C7.02944 21 3 16.9706 3 12C3 7.02944 7.02944 3 12 3C16.9706 3 21 7.02944 21 12Z"/>
                </svg>
              </div>
            </div>
          </div>

          <div class="profile-info">
            <h2 class="shop-name">{{ profile.shopname }}</h2>
            <p class="shop-type">Shop Owner Account</p>
            <div class="profile-meta">
              <span class="meta-item">
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none">
                  <path d="M3 8L10.89 13.26C11.2187 13.4793 11.6049 13.5963 12 13.5963C12.3951 13.5963 12.7813 13.4793 13.11 13.26L21 8M5 19H19C19.5304 19 20.0391 18.7893 20.4142 18.4142C20.7893 18.0391 21 17.5304 21 17V7C21 6.46957 20.7893 5.96086 20.4142 5.58579C20.0391 5.21071 19.5304 5 19 5H5C4.46957 5 3.96086 5.21071 3.58579 5.58579C3.21071 5.96086 3 6.46957 3 7V17C3 17.5304 3.21071 18.0391 3.58579 18.4142C3.96086 18.7893 4.46957 19 5 19Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
                {{ profile.shopemail }}
              </span>
              <span class="meta-item">
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none">
                  <path d="M3 5C3 3.89543 3.89543 3 5 3H8.27924C8.70967 3 9.09181 3.27543 9.22792 3.68377L10.7257 8.17721C10.8831 8.64932 10.6694 9.16531 10.2243 9.38787L7.96701 10.5165C9.06925 12.9612 11.0388 14.9308 13.4835 16.033L14.6121 13.7757C14.8347 13.3306 15.3507 13.1169 15.8228 13.2743L20.3162 14.7721C20.7246 14.9082 21 15.2903 21 15.7208V19C21 20.1046 20.1046 21 19 21H18C9.71573 21 3 14.2843 3 6V5Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
                +91 {{ profile.shopcontact }}
              </span>
            </div>
          </div>

          <div class="profile-actions">
            <a routerLink="/smaster/profileedit" class="edit-button">
              <svg width="18" height="18" viewBox="0 0 24 24" fill="none">
                <path d="M11 4H4C3.46957 4 2.96086 4.21071 2.58579 4.58579C2.21071 4.96086 2 5.46957 2 6V20C2 20.5304 2.21071 21.0391 2.58579 21.4142C2.96086 21.7893 3.46957 22 4 22H18C18.5304 22 19.0391 21.7893 19.4142 21.4142C19.7893 21.0391 20 20.5304 20 20V13M18.5 2.5C18.8978 2.10217 19.4374 1.87868 20 1.87868C20.5626 1.87868 21.1022 2.10217 21.5 2.5C21.8978 2.89783 22.1213 3.43739 22.1213 4C22.1213 4.56261 21.8978 5.10217 21.5 5.5L12 15L8 16L9 12L18.5 2.5Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
              </svg>
              <span>Edit Profile</span>
            </a>
          </div>
        </div>
      </div>

      <!-- INFORMATION SECTIONS -->
      <div class="info-grid">

        <!-- Contact Information -->
        <div class="info-section">
          <div class="section-header">
            <div class="section-icon contact-icon">
              <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
                <path d="M17 21V19C17 17.9391 16.5786 16.9217 15.8284 16.1716C15.0783 15.4214 14.0609 15 13 15H5C3.93913 15 2.92172 15.4214 2.17157 16.1716C1.42143 16.9217 1 17.9391 1 19V21M23 21V19C22.9993 18.1137 22.7044 17.2528 22.1614 16.5523C21.6184 15.8519 20.8581 15.3516 20 15.13M16 3.13C16.8604 3.3503 17.623 3.8507 18.1676 4.55231C18.7122 5.25392 19.0078 6.11683 19.0078 7.005C19.0078 7.89317 18.7122 8.75608 18.1676 9.45769C17.623 10.1593 16.8604 10.6597 16 10.88M13 7C13 9.20914 11.2091 11 9 11C6.79086 11 5 9.20914 5 7C5 4.79086 6.79086 3 9 3C11.2091 3 13 4.79086 13 7Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
              </svg>
            </div>
            <h3>Contact Information</h3>
          </div>
          <div class="info-items">
            <div class="info-item">
              <span class="info-label">üìß Email Address</span>
              <span class="info-value">{{ profile.shopemail }}</span>
            </div>
            <div class="info-item">
              <span class="info-label">üì± Phone Number</span>
              <span class="info-value">+91 {{ profile.shopcontact }}</span>
            </div>
          </div>
        </div>

        <!-- Business Information -->
        <div class="info-section">
          <div class="section-header">
            <div class="section-icon business-icon">
              <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
                <path d="M19 21V5C19 4.46957 18.7893 3.96086 18.4142 3.58579C18.0391 3.21071 17.5304 3 17 3H7C6.46957 3 5.96086 3.21071 5.58579 3.58579C5.21071 3.96086 5 4.46957 5 5V21M3 21H21M9 7H10M9 11H10M9 15H10M14 7H15M14 11H15M14 15H15" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
              </svg>
            </div>
            <h3>Business Details</h3>
          </div>
          <div class="info-items">
            <div class="info-item">
              <span class="info-label">üè™ Shop Name</span>
              <span class="info-value">{{ profile.shopname }}</span>
            </div>
            <div class="info-item">
              <span class="info-label">üìÑ Business Licence</span>
              <span class="info-value">{{ profile.shoplicence }}</span>
            </div>
          </div>
        </div>

        <!-- Location Information -->
        <div class="info-section">
          <div class="section-header">
            <div class="section-icon location-icon">
              <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
                <path d="M21 10C21 17 12 23 12 23C12 23 3 17 3 10C3 7.61305 3.94821 5.32387 5.63604 3.63604C7.32387 1.94821 9.61305 1 12 1C14.3869 1 16.6761 1.94821 18.364 3.63604C20.0518 5.32387 21 7.61305 21 10Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                <path d="M12 13C13.6569 13 15 11.6569 15 10C15 8.34315 13.6569 7 12 7C10.3431 7 9 8.34315 9 10C9 11.6569 10.3431 13 12 13Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
              </svg>
            </div>
            <h3>Location</h3>
          </div>
          <div class="info-items">
            <div class="info-item">
              <span class="info-label">üìç District</span>
              <span class="info-value">{{ profile.districtname || 'Not specified' }}</span>
            </div>
            <div class="info-item">
              <span class="info-label">üó∫Ô∏è Area / Location</span>
              <span class="info-value">{{ profile.locationname || 'Not specified' }}</span>
            </div>
          </div>
        </div>

        <!-- Account Information -->
        <div class="info-section">
          <div class="section-header">
            <div class="section-icon account-icon">
              <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
                <path d="M20 21V19C20 17.9391 19.5786 16.9217 18.8284 16.1716C18.0783 15.4214 17.0609 15 16 15H8C6.93913 15 5.92172 15.4214 5.17157 16.1716C4.42143 16.9217 4 17.9391 4 19V21M16 7C16 9.20914 14.2091 11 12 11C9.79086 11 8 9.20914 8 7C8 4.79086 9.79086 3 12 3C14.2091 3 16 4.79086 16 7Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
              </svg>
            </div>
            <h3>Account Details</h3>
          </div>
          <div class="info-items">
            <div class="info-item">
              <span class="info-label">üë§ Username</span>
              <span class="info-value">{{ profile.username }}</span>
            </div>
            <div class="info-item">
              <span class="info-label">üîê Account Type</span>
              <span class="info-value">Shop Owner</span>
            </div>
          </div>
        </div>

      </div>

    </div>

  </div>

</div>

<!-- IMAGE MODAL -->
<div *ngIf="showImageModal" class="image-modal-overlay" (click)="closeImageModal()">
  <div class="modal-content" (click)="$event.stopPropagation()">
    <button class="modal-close-button" (click)="closeImageModal()">
      <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
        <path d="M18 6L6 18M6 6L18 18" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
      </svg>
    </button>
    <div class="modal-image-container">
      <img [src]="'http://localhost:3000/images/' + profile.shopimg" alt="{{ profile.shopname }}" class="modal-image">
    </div>
    <div class="modal-footer">
      <p class="modal-shop-name">{{ profile.shopname }}</p>
    </div>
  </div>
</div>
