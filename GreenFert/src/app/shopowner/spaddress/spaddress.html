<br><br>
<div class="address-page-modern">

  <div class="container">

    <div class="address-header">
      <h2>Delivery Address</h2>
      <p>Choose an existing address or add a new one</p>
    </div>
    <!-- Use this block when addressList.length > 0 -->

    <div class="address-layout" *ngIf="addressarray.length > 0">
      <form [formGroup]="addresschoose">
        <!-- SAVED ADDRESSES -->
        <div class="saved-section">
          <h4>Saved Addresses</h4>
          @for(data of addressarray; track data;) {
          <label class="address-tile">

            <input type="radio" formControlName="address" value="{{data.address_id}}">

            <div class="tile-body">
              <h5>{{ data.name }}</h5>
              <p>{{ data.address }}</p>
              <p>{{ data.email }}</p>
              <span>{{ data.landmark }} â€“ {{ data.pincode }}</span>
              <br>
              <small>ðŸ“ž {{ data.contact }}</small>
            </div>

          </label>
          }
          <div class="address-footer"  *ngIf="addresschoose.get('address')?.value">
            <button class="continue-btn" (click)="chooseaddress()">
              Continue to Payment
            </button>
          </div>
        </div>
      </form>

      <!-- NEW ADDRESS -->

      <form [formGroup]="locationfg">

        <div class="new-section">
          <h4>Add New Address</h4>

          <div class="form-group">
            <label>Full Name</label>
            <input type="text" placeholder="John Doe" formControlName="name">
          </div>

          <div class="form-row">
            <div class="form-group">
              <label>Email</label>
              <input type="email" placeholder="john@example.com" formControlName="email">
            </div>

            <div class="form-group">
              <label>Mobile Number</label>
              <input type="text" formControlName="number">
            </div>
          </div>

          <div class="form-group">
            <label>Address</label>
            <input type="text" placeholder="House no, Street, Area" formControlName="address">
          </div>

          <div class="form-row">
            <div class="form-group">
              <label>Landmark</label>
              <input type="text" placeholder="Near school / temple" formControlName="landmark">
            </div>

            <div class="form-group">
              <label>Pincode</label>
              <input type="text" placeholder="682001" formControlName="pincode">
            </div>

          </div>

          <div class="address-footer">
            <button class="continue-btn" (click)="pay()">
              Continue to Payment
            </button>
          </div>

        </div>
      </form>

    </div>

    <!-- ================= CASE 2: NO SAVED ADDRESS ================= -->
    <!-- Use this block when addressList.length === 0 -->
    <div class="address-layout new-only" *ngIf="addressarray.length === 0">
      <form [formGroup]="locationfg">

        <div class="new-section">
          <h4>Add New Address</h4>

          <div class="form-group">
            <label>Full Name</label>
            <input type="text" placeholder="John Doe" formControlName="name">
          </div>

          <div class="form-row">
            <div class="form-group">
              <label>Email</label>
              <input type="email" placeholder="john@example.com" formControlName="email">
            </div>

            <div class="form-group">
              <label>Mobile Number</label>
              <input type="text" formControlName="number">
            </div>
          </div>

          <div class="form-group">
            <label>Address</label>
            <input type="text" placeholder="House no, Street, Area" formControlName="address">
          </div>

          <div class="form-row">
            <div class="form-group">
              <label>Landmark</label>
              <input type="text" placeholder="Near school / temple" formControlName="landmark">
            </div>

            <div class="form-group">
              <label>Pincode</label>
              <input type="text" placeholder="682001" formControlName="pincode">
            </div>

          </div>

          <div class="address-footer">
            <button class="continue-btn" (click)="pay()">
              Continue to Payment
            </button>
          </div>

        </div>
      </form>

    </div>

    <!-- ACTION -->

  </div>

</div>